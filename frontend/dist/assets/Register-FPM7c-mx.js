import{c as b,r as d,b as y,a as j,j as e,U as N,M as v,e as w,L as C,z as o}from"./index-rlvyAQjv.js";import{v as k,c as m,m as P,a as z}from"./formatters-MA0lDvmk.js";import{F as q}from"./file-text-DJiuKPyZ.js";import{L as u}from"./lock-BkzgGzk3.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],S=b("user-plus",L),J=()=>{const[s,p]=d.useState({fullName:"",email:"",cpfCnpj:"",password:"",confirmPassword:"",phoneNumber:""}),[i,c]=d.useState(!1),x=y(),{register:f}=j(),r=n=>{const{name:a,value:l}=n.target;let t=l;a==="cpfCnpj"?t=P(l):a==="phoneNumber"&&(t=z(l)),p({...s,[a]:t})},g=async n=>{var a,l;if(n.preventDefault(),!k(s.cpfCnpj)){o.error("CPF ou CNPJ inválido (verifique os dígitos).");return}if(s.password!==s.confirmPassword){o.error("As senhas não conferem.");return}if(s.password.length<8){o.error("A senha deve ter pelo menos 8 caracteres.");return}if(!s.phoneNumber){o.error("O telefone é obrigatório.");return}c(!0);try{await f({fullName:s.fullName,cpfCnpj:m(s.cpfCnpj),phoneNumber:m(s.phoneNumber),email:s.email,password:s.password}),o.success("Conta criada com sucesso!"),x("/",{replace:!0})}catch(t){console.error(t);const h=((l=(a=t.response)==null?void 0:a.data)==null?void 0:l.message)||"Erro ao criar conta. Verifique os dados.";o.error(h)}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(S,{size:32,className:"text-primary"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Crie sua Conta"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Junte-se a nós para gerenciar seus pedidos."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"CPF ou CNPJ"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{size:18,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{name:"cpfCnpj",className:"w-full border border-gray-300 rounded-lg pl-10 p-2.5 outline-none focus:ring-2 focus:ring-primary",placeholder:"000.000.000-00",value:s.cpfCnpj,onChange:r,maxLength:18,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nome Completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{size:18,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{name:"fullName",className:"w-full border border-gray-300 rounded-lg pl-10 p-2.5 outline-none focus:ring-2 focus:ring-primary",placeholder:"Seu nome",value:s.fullName,onChange:r,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"E-mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{size:18,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{name:"email",type:"email",className:"w-full border border-gray-300 rounded-lg pl-10 p-2.5 outline-none focus:ring-2 focus:ring-primary",placeholder:"seu@email.com",value:s.email,onChange:r,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Telefone / WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{size:18,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{name:"phoneNumber",type:"tel",className:"w-full border border-gray-300 rounded-lg pl-10 p-2.5 outline-none focus:ring-2 focus:ring-primary",placeholder:"(11) 99999-9999",value:s.phoneNumber,onChange:r,maxLength:15,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{size:18,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{name:"password",type:"password",className:"w-full border border-gray-300 rounded-lg pl-10 p-2.5 outline-none focus:ring-2 focus:ring-primary",placeholder:"Mínimo 8 caracteres",value:s.password,onChange:r,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Confirmar Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{size:18,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{name:"confirmPassword",type:"password",className:"w-full border border-gray-300 rounded-lg pl-10 p-2.5 outline-none focus:ring-2 focus:ring-primary",placeholder:"Repita a senha",value:s.confirmPassword,onChange:r,required:!0})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary hover:brightness-90 text-white font-bold py-3 rounded-lg transition-colors flex justify-center mt-6 shadow-lg shadow-primary/30 disabled:opacity-70",children:i?"Criando conta...":"Cadastrar"})]}),e.jsx("div",{className:"mt-6 text-center pt-6 border-t border-gray-100",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Já tem uma conta?"," ",e.jsx(C,{to:"/login",className:"text-primary font-bold hover:underline",children:"Fazer Login"})]})})]})})};export{J as Register};
